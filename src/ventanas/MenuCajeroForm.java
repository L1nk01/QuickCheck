package ventanas;

// <editor-fold defaultstate="collapsed" desc="Clases importadas">
import clases.MetodosBarraLateral;
import clases.MetodosBarraMenu;
import clases.MetodosBotones;
import clases.MetodosBusqueda;
import clases.MetodosComboBox;
import clases.MetodosEntrada;
import clases.MetodosFechas;
import clases.MetodosPaneles;
import clases.MetodosTextField;
import clases.MetodosValidacion;
import clases.TablaNoEditable;
import java.sql.Connection;
import java.awt.Color;
import java.sql.PreparedStatement;
import java.sql.Statement;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import java.sql.ResultSet;
import javax.swing.JOptionPane;
import java.sql.SQLException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import javax.swing.ImageIcon;
import javax.swing.border.EmptyBorder;
// </editor-fold>

/**
 *
 * @author ecpau
 */
public class MenuCajeroForm extends javax.swing.JFrame {
    
    // Instancia de la conexion que se pasa del login al menu
    private Connection cn;
    
    // Usuario que inició la sesión
    private String usuario;
    
    // <editor-fold defaultstate="collapsed" desc="Instancias">
    // Instancia de la clase para añadir funcionalidad a los botones de la barra de título
    MetodosBarraMenu mbm = new MetodosBarraMenu();
    // Instancia de la clase para añadir funcionalidad a la barra lateral
    MetodosBarraLateral mbl = new MetodosBarraLateral();
    // Instancia de la clase para manipular la visibilidad de los paneles
    MetodosPaneles mp = new MetodosPaneles();
    // Instancia de la clase MetodosTextField para establecer los textos predeterminados
    MetodosTextField mtf = new MetodosTextField();
    // Instancia de la clase MetodosComboBox para obtener y configurar las opciones de los JComboBox
    MetodosComboBox mcb = new MetodosComboBox(cn);
    // Instancia de la clase MetodosBusqueda para obtener las opciones seleccionadas de los JComboBox de búsqueda
    MetodosBusqueda mb = new MetodosBusqueda();
    // Instancia de la clase MetodosValidacion para validar campos
    MetodosValidacion mv = new MetodosValidacion();
    // Instancia de la clase MetodosBotones para habilitarlos o deshabilitarlos
    MetodosBotones mbtn = new MetodosBotones();
    // Instancia de la clase MetodosFechas para trabajar con fechas en bases de datos
    MetodosFechas mf = new MetodosFechas();
    // Instancia de la clase MetodosEntrada para validar entrada en campos de texto
    MetodosEntrada me = new MetodosEntrada();
    // </editor-fold>
    
    // Variable para almacenar las coordenadas del mouse, se usa para calcular la posicion al arrastrar la ventana
    int mouseX, mouseY;
    
    /**
     * Crea una nueva instancia del formulario MenuAdminForm.
     *
     * @param cn La conexión a la base de datos que se utilizará en el formulario.
     * @param usuario El nombre completo del usuario que inició la sesión.
     */
    public MenuCajeroForm(Connection cn, String usuario) {
        // Asigna la conexión a la base de datos al atributo de la clase
        this.cn = cn;
        
        this.usuario = usuario;
        
        // Inicializa los componentes del formulario
        initComponents();
        
        // Configura el ícono de la ventana
        ImageIcon icon = new ImageIcon(this.getClass().getResource("/quickcheck/assets/ventana/icons8-checkout-50.png"));
        this.setIconImage(icon.getImage());
        
        // Oculta los paneles de la ventana de paneles y muestra el panel del menú principal
        mp.ocultarPaneles(panelVentanaPaneles);
        panelMenuPrincipal.setVisible(true);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        menuClickDerechoProductos = new javax.swing.JPopupMenu();
        btnEliminarProductos = new javax.swing.JMenuItem();
        barraTitulo = new javax.swing.JPanel();
        botonesBarraTitulo = new javax.swing.JPanel();
        contOcultar = new javax.swing.JPanel();
        lblOcultar = new javax.swing.JLabel();
        contMaximizar = new javax.swing.JPanel();
        lblMaximizar = new javax.swing.JLabel();
        contCerrar = new javax.swing.JPanel();
        lblCerrar = new javax.swing.JLabel();
        txtTitulo = new javax.swing.JLabel();
        barraLateral = new javax.swing.JPanel();
        contBarraLateral = new javax.swing.JPanel();
        contBotonBarraLateral = new javax.swing.JPanel();
        lblBotonBarraLateral = new javax.swing.JLabel();
        contConfiguracion = new javax.swing.JPanel();
        lblConfiguracion = new javax.swing.JLabel();
        contCerrarSesion = new javax.swing.JPanel();
        lblCerrarSesion = new javax.swing.JLabel();
        panelFondo = new javax.swing.JPanel();
        panelVentana = new javax.swing.JPanel();
        panelBarraLateral = new javax.swing.JLayeredPane();
        botonProductos = new javax.swing.JPanel();
        labelProductos = new javax.swing.JLabel();
        iconoProductos = new javax.swing.JLabel();
        botonDescuentos = new javax.swing.JPanel();
        labelDescuentos = new javax.swing.JLabel();
        iconoDescuentos = new javax.swing.JLabel();
        botonCaja = new javax.swing.JPanel();
        labelCaja = new javax.swing.JLabel();
        iconoCaja = new javax.swing.JLabel();
        panelVentanaPaneles = new javax.swing.JPanel();
        panelMenuPrincipal = new javax.swing.JLayeredPane();
        jLabel2 = new javax.swing.JLabel();
        panelProductos = new javax.swing.JLayeredPane();
        jPanel3 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        tablaProductos = new javax.swing.JTable();
        txtBuscarProductos = new javax.swing.JTextField();
        comboOrdenarProductos = new javax.swing.JComboBox<>();
        comboTipoBusquedaProductos = new javax.swing.JComboBox<>();
        comboBuscarPorProductos = new javax.swing.JComboBox<>();
        panelDescuentos = new javax.swing.JLayeredPane();
        jPanel2 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tablaDescuentos = new javax.swing.JTable();
        txtBuscarDescuentos = new javax.swing.JTextField();
        panelCaja = new javax.swing.JLayeredPane();
        jPanel12 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jPanel13 = new javax.swing.JPanel();
        txtVendedorCaja = new javax.swing.JTextField();
        txtFechaCaja = new javax.swing.JTextField();
        txtCantidadCaja = new javax.swing.JTextField();
        comboMetodoPagoCaja = new javax.swing.JComboBox<>();
        txtCodigoDescuentoCaja = new javax.swing.JTextField();
        contProcesarPagoCaja = new javax.swing.JPanel();
        lblProcesarPagoCaja = new javax.swing.JLabel();
        contEliminarProductoCaja = new javax.swing.JPanel();
        lblEliminarProductoCaja = new javax.swing.JLabel();
        contCancelarPagoCaja = new javax.swing.JPanel();
        lblCancelarPagoCaja = new javax.swing.JLabel();
        contAgregarProductoCaja = new javax.swing.JPanel();
        lblAgregarProductoCaja = new javax.swing.JLabel();
        contAplicarDescuentoCaja = new javax.swing.JPanel();
        lblAplicarDescuentoCaja = new javax.swing.JLabel();
        txtCodigoCaja = new javax.swing.JTextField();
        contActualizarCaja = new javax.swing.JPanel();
        lblActualizarCaja = new javax.swing.JLabel();
        jPanel14 = new javax.swing.JPanel();
        txtSubtotalCaja = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        txtDescuentoTotalCaja = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        txtTotalCaja = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jScrollPane6 = new javax.swing.JScrollPane();
        tablaCaja = new javax.swing.JTable();

        btnEliminarProductos.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        btnEliminarProductos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/productos/icons8-delete-25.png"))); // NOI18N
        btnEliminarProductos.setText("Eliminar");
        btnEliminarProductos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEliminarProductosActionPerformed(evt);
            }
        });
        menuClickDerechoProductos.add(btnEliminarProductos);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setUndecorated(true);
        addMouseListener(new java.awt.event.MouseAdapter() {
            public void mousePressed(java.awt.event.MouseEvent evt) {
                formMousePressed(evt);
            }
        });

        barraTitulo.setBackground(new java.awt.Color(87, 154, 233));
        barraTitulo.setPreferredSize(new java.awt.Dimension(1280, 50));
        barraTitulo.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseDragged(java.awt.event.MouseEvent evt) {
                barraTituloMouseDragged(evt);
            }
        });
        barraTitulo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                barraTituloMouseClicked(evt);
            }
            public void mousePressed(java.awt.event.MouseEvent evt) {
                barraTituloMousePressed(evt);
            }
        });
        barraTitulo.setLayout(new java.awt.BorderLayout());

        botonesBarraTitulo.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        contOcultar.setBackground(new java.awt.Color(87, 154, 233));
        contOcultar.setLayout(new java.awt.BorderLayout());

        lblOcultar.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblOcultar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/barra_titulo/icons8-minimize-20-white.png"))); // NOI18N
        lblOcultar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblOcultarMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblOcultarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblOcultarMouseExited(evt);
            }
        });
        contOcultar.add(lblOcultar, java.awt.BorderLayout.CENTER);

        botonesBarraTitulo.add(contOcultar, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 60, 50));

        contMaximizar.setBackground(new java.awt.Color(87, 154, 233));
        contMaximizar.setLayout(new java.awt.BorderLayout());

        lblMaximizar.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblMaximizar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/barra_titulo/icons8-rectangle-20-white.png"))); // NOI18N
        lblMaximizar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblMaximizarMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblMaximizarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblMaximizarMouseExited(evt);
            }
        });
        contMaximizar.add(lblMaximizar, java.awt.BorderLayout.CENTER);

        botonesBarraTitulo.add(contMaximizar, new org.netbeans.lib.awtextra.AbsoluteConstraints(60, 0, 60, 50));

        contCerrar.setBackground(new java.awt.Color(87, 154, 233));
        contCerrar.setLayout(new java.awt.BorderLayout());

        lblCerrar.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblCerrar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/barra_titulo/icons8-close-20-white.png"))); // NOI18N
        lblCerrar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblCerrarMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblCerrarMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblCerrarMouseExited(evt);
            }
        });
        contCerrar.add(lblCerrar, java.awt.BorderLayout.CENTER);

        botonesBarraTitulo.add(contCerrar, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 0, 60, 50));

        barraTitulo.add(botonesBarraTitulo, java.awt.BorderLayout.EAST);

        txtTitulo.setFont(new java.awt.Font("Ubuntu", 0, 18)); // NOI18N
        txtTitulo.setForeground(new java.awt.Color(255, 255, 255));
        txtTitulo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/barra_titulo/icons8-checkout-35.png"))); // NOI18N
        txtTitulo.setText("    QuickCheck (Cajero)");
        txtTitulo.setBorder(new EmptyBorder(0, 16, 0, 0));
        barraTitulo.add(txtTitulo, java.awt.BorderLayout.CENTER);

        getContentPane().add(barraTitulo, java.awt.BorderLayout.PAGE_START);

        barraLateral.setBackground(new java.awt.Color(56, 33, 165));
        barraLateral.setPreferredSize(new java.awt.Dimension(70, 670));
        barraLateral.setLayout(new java.awt.BorderLayout());

        contBarraLateral.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        contBotonBarraLateral.setBackground(new java.awt.Color(56, 33, 165));

        lblBotonBarraLateral.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblBotonBarraLateral.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-menu-30-white.png"))); // NOI18N
        lblBotonBarraLateral.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblBotonBarraLateralMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblBotonBarraLateralMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblBotonBarraLateralMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contBotonBarraLateralLayout = new javax.swing.GroupLayout(contBotonBarraLateral);
        contBotonBarraLateral.setLayout(contBotonBarraLateralLayout);
        contBotonBarraLateralLayout.setHorizontalGroup(
            contBotonBarraLateralLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, contBotonBarraLateralLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(lblBotonBarraLateral, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        contBotonBarraLateralLayout.setVerticalGroup(
            contBotonBarraLateralLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, contBotonBarraLateralLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(lblBotonBarraLateral, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        contBarraLateral.add(contBotonBarraLateral, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, -1, 70));

        contConfiguracion.setBackground(new java.awt.Color(56, 33, 165));
        contConfiguracion.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        lblConfiguracion.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblConfiguracion.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-settings-30-white.png"))); // NOI18N
        lblConfiguracion.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblConfiguracionMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblConfiguracionMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblConfiguracionMouseExited(evt);
            }
        });
        contConfiguracion.add(lblConfiguracion, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 70, 70));

        contBarraLateral.add(contConfiguracion, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 70, 70, 70));

        barraLateral.add(contBarraLateral, java.awt.BorderLayout.NORTH);

        contCerrarSesion.setBackground(new java.awt.Color(56, 33, 165));

        lblCerrarSesion.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblCerrarSesion.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-sign-out-30-white.png"))); // NOI18N
        lblCerrarSesion.setPreferredSize(new java.awt.Dimension(70, 70));
        lblCerrarSesion.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblCerrarSesionMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblCerrarSesionMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblCerrarSesionMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contCerrarSesionLayout = new javax.swing.GroupLayout(contCerrarSesion);
        contCerrarSesion.setLayout(contCerrarSesionLayout);
        contCerrarSesionLayout.setHorizontalGroup(
            contCerrarSesionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, contCerrarSesionLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(lblCerrarSesion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );
        contCerrarSesionLayout.setVerticalGroup(
            contCerrarSesionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, contCerrarSesionLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(lblCerrarSesion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        barraLateral.add(contCerrarSesion, java.awt.BorderLayout.PAGE_END);

        getContentPane().add(barraLateral, java.awt.BorderLayout.LINE_START);

        panelFondo.setBackground(new java.awt.Color(255, 255, 255));

        panelBarraLateral.setBackground(new java.awt.Color(54, 33, 150));
        panelBarraLateral.setOpaque(true);
        panelBarraLateral.setPreferredSize(new java.awt.Dimension(0, 670));

        botonProductos.setBackground(new java.awt.Color(54, 33, 150));
        botonProductos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonProductosMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                botonProductosMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                botonProductosMouseExited(evt);
            }
        });
        botonProductos.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        labelProductos.setFont(new java.awt.Font("Ubuntu", 1, 18)); // NOI18N
        labelProductos.setForeground(new java.awt.Color(255, 255, 255));
        labelProductos.setText("Inventario");
        botonProductos.add(labelProductos, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 0, 140, 60));

        iconoProductos.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        iconoProductos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-inventory-25.png"))); // NOI18N
        botonProductos.add(iconoProductos, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 70, 60));

        panelBarraLateral.add(botonProductos);
        botonProductos.setBounds(0, 0, 210, 60);

        botonDescuentos.setBackground(new java.awt.Color(54, 33, 150));
        botonDescuentos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonDescuentosMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                botonDescuentosMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                botonDescuentosMouseExited(evt);
            }
        });
        botonDescuentos.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        labelDescuentos.setFont(new java.awt.Font("Ubuntu", 1, 18)); // NOI18N
        labelDescuentos.setForeground(new java.awt.Color(255, 255, 255));
        labelDescuentos.setText("Descuentos");
        botonDescuentos.add(labelDescuentos, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 0, 140, 60));

        iconoDescuentos.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        iconoDescuentos.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-discount-25.png"))); // NOI18N
        botonDescuentos.add(iconoDescuentos, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 70, 60));

        panelBarraLateral.add(botonDescuentos);
        botonDescuentos.setBounds(0, 60, 210, 60);

        botonCaja.setBackground(new java.awt.Color(54, 33, 150));
        botonCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                botonCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                botonCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                botonCajaMouseExited(evt);
            }
        });
        botonCaja.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        labelCaja.setFont(new java.awt.Font("Ubuntu", 1, 18)); // NOI18N
        labelCaja.setForeground(new java.awt.Color(255, 255, 255));
        labelCaja.setText("Caja");
        botonCaja.add(labelCaja, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 0, 140, 60));

        iconoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        iconoCaja.setIcon(new javax.swing.ImageIcon(getClass().getResource("/quickcheck/assets/iconos_barra_lateral/icons8-checkout-25.png"))); // NOI18N
        botonCaja.add(iconoCaja, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, 70, 60));

        panelBarraLateral.add(botonCaja);
        botonCaja.setBounds(0, 120, 210, 60);

        panelMenuPrincipal.setBackground(new java.awt.Color(255, 255, 255));
        panelMenuPrincipal.setOpaque(true);

        jLabel2.setBackground(new java.awt.Color(0, 0, 0));
        jLabel2.setFont(new java.awt.Font("Ubuntu", 1, 36)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(0, 0, 0));
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel2.setText("Usa la barra lateral para moverte entre ventanas");

        panelMenuPrincipal.setLayer(jLabel2, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout panelMenuPrincipalLayout = new javax.swing.GroupLayout(panelMenuPrincipal);
        panelMenuPrincipal.setLayout(panelMenuPrincipalLayout);
        panelMenuPrincipalLayout.setHorizontalGroup(
            panelMenuPrincipalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelMenuPrincipalLayout.createSequentialGroup()
                .addGap(150, 150, 150)
                .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(151, 151, 151))
        );
        panelMenuPrincipalLayout.setVerticalGroup(
            panelMenuPrincipalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelMenuPrincipalLayout.createSequentialGroup()
                .addGap(243, 243, 243)
                .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, 166, Short.MAX_VALUE)
                .addGap(261, 261, 261))
        );

        panelProductos.setBackground(new java.awt.Color(255, 255, 255));
        panelProductos.setOpaque(true);

        jPanel3.setBackground(new java.awt.Color(255, 255, 255));
        jPanel3.setPreferredSize(new java.awt.Dimension(1210, 60));

        jLabel1.setBackground(new java.awt.Color(73, 127, 131));
        jLabel1.setFont(new java.awt.Font("Ubuntu", 1, 36)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(73, 127, 131));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel1.setText("Inventario");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(548, 548, 548)
                .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 193, Short.MAX_VALUE)
                .addGap(549, 549, 549))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));
        jPanel5.setPreferredSize(new java.awt.Dimension(840, 570));

        tablaProductos.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        tablaProductos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        tablaProductos.setComponentPopupMenu(menuClickDerechoProductos);
        jScrollPane2.setViewportView(tablaProductos);

        txtBuscarProductos.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtBuscarProductos.setForeground(new java.awt.Color(143, 143, 143));
        txtBuscarProductos.setText("Buscar");
        txtBuscarProductos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtBuscarProductosFocusGained(evt);
            }
        });
        txtBuscarProductos.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtBuscarProductosKeyReleased(evt);
            }
        });

        comboOrdenarProductos.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        comboOrdenarProductos.setForeground(new java.awt.Color(0, 0, 0));
        comboOrdenarProductos.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Ascendente", "Descendente" }));
        comboOrdenarProductos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboOrdenarProductosActionPerformed(evt);
            }
        });

        comboTipoBusquedaProductos.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        comboTipoBusquedaProductos.setForeground(new java.awt.Color(0, 0, 0));
        comboTipoBusquedaProductos.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Empieza por", "Termina con", "Contiene" }));
        comboTipoBusquedaProductos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboTipoBusquedaProductosActionPerformed(evt);
            }
        });

        comboBuscarPorProductos.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        comboBuscarPorProductos.setForeground(new java.awt.Color(0, 0, 0));
        comboBuscarPorProductos.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Nombre del Producto", "ID", "Precio Unitario", "Cantidad Disponible", "Código de Barras", "Estado del Producto", "Fecha de Registro", "Categoría", "Descripción del Producto" }));
        comboBuscarPorProductos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboBuscarPorProductosActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(comboBuscarPorProductos, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(32, 32, 32)
                        .addComponent(comboTipoBusquedaProductos, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(18, 18, 18)
                        .addComponent(comboOrdenarProductos, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(28, 28, 28)
                        .addComponent(txtBuscarProductos)))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 568, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(txtBuscarProductos)
                        .addGap(9, 9, 9))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(comboTipoBusquedaProductos, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(comboOrdenarProductos, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addContainerGap())
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addComponent(comboBuscarPorProductos, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );

        panelProductos.setLayer(jPanel3, javax.swing.JLayeredPane.DEFAULT_LAYER);
        panelProductos.setLayer(jPanel5, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout panelProductosLayout = new javax.swing.GroupLayout(panelProductos);
        panelProductos.setLayout(panelProductosLayout);
        panelProductosLayout.setHorizontalGroup(
            panelProductosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, 1290, Short.MAX_VALUE)
            .addComponent(jPanel5, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 1290, Short.MAX_VALUE)
        );
        panelProductosLayout.setVerticalGroup(
            panelProductosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelProductosLayout.createSequentialGroup()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, 658, Short.MAX_VALUE))
        );

        panelDescuentos.setBackground(new java.awt.Color(255, 255, 255));
        panelDescuentos.setOpaque(true);

        jPanel2.setBackground(new java.awt.Color(255, 255, 255));
        jPanel2.setPreferredSize(new java.awt.Dimension(1290, 60));
        jPanel2.setLayout(new java.awt.BorderLayout());

        jLabel3.setBackground(new java.awt.Color(73, 127, 131));
        jLabel3.setFont(new java.awt.Font("Ubuntu", 1, 36)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(73, 127, 131));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel3.setText("Descuentos");
        jPanel2.add(jLabel3, java.awt.BorderLayout.CENTER);

        jPanel8.setBackground(new java.awt.Color(255, 255, 255));
        jPanel8.setPreferredSize(new java.awt.Dimension(1290, 329));

        tablaDescuentos.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        tablaDescuentos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jScrollPane4.setViewportView(tablaDescuentos);

        txtBuscarDescuentos.setFont(new java.awt.Font("Ubuntu", 0, 14)); // NOI18N
        txtBuscarDescuentos.setForeground(new java.awt.Color(143, 143, 143));
        txtBuscarDescuentos.setText("Buscar");
        txtBuscarDescuentos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtBuscarDescuentosFocusGained(evt);
            }
        });
        txtBuscarDescuentos.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtBuscarDescuentosKeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane4)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtBuscarDescuentos)
                .addContainerGap())
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtBuscarDescuentos, javax.swing.GroupLayout.PREFERRED_SIZE, 64, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 576, Short.MAX_VALUE))
        );

        panelDescuentos.setLayer(jPanel2, javax.swing.JLayeredPane.DEFAULT_LAYER);
        panelDescuentos.setLayer(jPanel8, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout panelDescuentosLayout = new javax.swing.GroupLayout(panelDescuentos);
        panelDescuentos.setLayout(panelDescuentosLayout);
        panelDescuentosLayout.setHorizontalGroup(
            panelDescuentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        panelDescuentosLayout.setVerticalGroup(
            panelDescuentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDescuentosLayout.createSequentialGroup()
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, 652, Short.MAX_VALUE))
        );

        panelCaja.setBackground(new java.awt.Color(255, 255, 255));
        panelCaja.setOpaque(true);

        jPanel12.setBackground(new java.awt.Color(255, 255, 255));
        jPanel12.setPreferredSize(new java.awt.Dimension(1290, 60));

        jLabel6.setBackground(new java.awt.Color(73, 127, 131));
        jLabel6.setFont(new java.awt.Font("Ubuntu", 1, 36)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(73, 127, 131));
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel6.setText("Caja");

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel12Layout.createSequentialGroup()
                .addGap(548, 548, 548)
                .addComponent(jLabel6, javax.swing.GroupLayout.DEFAULT_SIZE, 193, Short.MAX_VALUE)
                .addGap(549, 549, 549))
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        jPanel13.setBackground(new java.awt.Color(255, 255, 255));
        jPanel13.setForeground(new java.awt.Color(143, 143, 143));
        jPanel13.setPreferredSize(new java.awt.Dimension(645, 658));

        txtVendedorCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtVendedorCaja.setForeground(new java.awt.Color(0, 0, 0));
        txtVendedorCaja.setText("Nombre del Vendedor");
        txtVendedorCaja.setEnabled(false);

        txtFechaCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtFechaCaja.setForeground(new java.awt.Color(0, 0, 0));
        txtFechaCaja.setText("Fecha de la Venta");
        txtFechaCaja.setEnabled(false);

        txtCantidadCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtCantidadCaja.setForeground(new java.awt.Color(143, 143, 143));
        txtCantidadCaja.setText("Cantidad");
        txtCantidadCaja.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtCantidadCajaFocusGained(evt);
            }
        });
        txtCantidadCaja.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtCantidadCajaKeyTyped(evt);
            }
        });

        comboMetodoPagoCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        comboMetodoPagoCaja.setForeground(new java.awt.Color(0, 0, 0));
        comboMetodoPagoCaja.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Método de Pago", "Efectivo", "Tarjeta" }));

        txtCodigoDescuentoCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtCodigoDescuentoCaja.setForeground(new java.awt.Color(143, 143, 143));
        txtCodigoDescuentoCaja.setText("Código de Descuento");
        txtCodigoDescuentoCaja.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtCodigoDescuentoCajaFocusGained(evt);
            }
        });
        txtCodigoDescuentoCaja.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtCodigoDescuentoCajaKeyTyped(evt);
            }
        });

        contProcesarPagoCaja.setBackground(new java.awt.Color(92, 164, 169));

        lblProcesarPagoCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblProcesarPagoCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblProcesarPagoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblProcesarPagoCaja.setText("Procesar Pago");
        lblProcesarPagoCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblProcesarPagoCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblProcesarPagoCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblProcesarPagoCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contProcesarPagoCajaLayout = new javax.swing.GroupLayout(contProcesarPagoCaja);
        contProcesarPagoCaja.setLayout(contProcesarPagoCajaLayout);
        contProcesarPagoCajaLayout.setHorizontalGroup(
            contProcesarPagoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblProcesarPagoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 312, Short.MAX_VALUE)
        );
        contProcesarPagoCajaLayout.setVerticalGroup(
            contProcesarPagoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblProcesarPagoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        contEliminarProductoCaja.setBackground(new java.awt.Color(192, 36, 36));

        lblEliminarProductoCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblEliminarProductoCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblEliminarProductoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblEliminarProductoCaja.setText("Eliminar Producto");
        lblEliminarProductoCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblEliminarProductoCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblEliminarProductoCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblEliminarProductoCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contEliminarProductoCajaLayout = new javax.swing.GroupLayout(contEliminarProductoCaja);
        contEliminarProductoCaja.setLayout(contEliminarProductoCajaLayout);
        contEliminarProductoCajaLayout.setHorizontalGroup(
            contEliminarProductoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblEliminarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        contEliminarProductoCajaLayout.setVerticalGroup(
            contEliminarProductoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblEliminarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 70, Short.MAX_VALUE)
        );

        contCancelarPagoCaja.setBackground(new java.awt.Color(92, 164, 169));

        lblCancelarPagoCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblCancelarPagoCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblCancelarPagoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblCancelarPagoCaja.setText("Cancelar Pago");
        lblCancelarPagoCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblCancelarPagoCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblCancelarPagoCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblCancelarPagoCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contCancelarPagoCajaLayout = new javax.swing.GroupLayout(contCancelarPagoCaja);
        contCancelarPagoCaja.setLayout(contCancelarPagoCajaLayout);
        contCancelarPagoCajaLayout.setHorizontalGroup(
            contCancelarPagoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblCancelarPagoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 312, Short.MAX_VALUE)
        );
        contCancelarPagoCajaLayout.setVerticalGroup(
            contCancelarPagoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblCancelarPagoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 70, Short.MAX_VALUE)
        );

        contAgregarProductoCaja.setBackground(new java.awt.Color(92, 164, 169));

        lblAgregarProductoCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblAgregarProductoCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblAgregarProductoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblAgregarProductoCaja.setText("Agregar Producto");
        lblAgregarProductoCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblAgregarProductoCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblAgregarProductoCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblAgregarProductoCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contAgregarProductoCajaLayout = new javax.swing.GroupLayout(contAgregarProductoCaja);
        contAgregarProductoCaja.setLayout(contAgregarProductoCajaLayout);
        contAgregarProductoCajaLayout.setHorizontalGroup(
            contAgregarProductoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblAgregarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        contAgregarProductoCajaLayout.setVerticalGroup(
            contAgregarProductoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblAgregarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 62, Short.MAX_VALUE)
        );

        contAplicarDescuentoCaja.setBackground(new java.awt.Color(92, 164, 169));

        lblAplicarDescuentoCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblAplicarDescuentoCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblAplicarDescuentoCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblAplicarDescuentoCaja.setText("Aplicar Descuento");
        lblAplicarDescuentoCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblAplicarDescuentoCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblAplicarDescuentoCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblAplicarDescuentoCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contAplicarDescuentoCajaLayout = new javax.swing.GroupLayout(contAplicarDescuentoCaja);
        contAplicarDescuentoCaja.setLayout(contAplicarDescuentoCajaLayout);
        contAplicarDescuentoCajaLayout.setHorizontalGroup(
            contAplicarDescuentoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblAplicarDescuentoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        contAplicarDescuentoCajaLayout.setVerticalGroup(
            contAplicarDescuentoCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblAplicarDescuentoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 62, Short.MAX_VALUE)
        );

        txtCodigoCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtCodigoCaja.setForeground(new java.awt.Color(143, 143, 143));
        txtCodigoCaja.setText("Código del Producto");
        txtCodigoCaja.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtCodigoCajaFocusGained(evt);
            }
        });
        txtCodigoCaja.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtCodigoCajaKeyTyped(evt);
            }
        });

        contActualizarCaja.setBackground(new java.awt.Color(92, 164, 169));

        lblActualizarCaja.setFont(new java.awt.Font("Ubuntu", 1, 20)); // NOI18N
        lblActualizarCaja.setForeground(new java.awt.Color(255, 255, 255));
        lblActualizarCaja.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblActualizarCaja.setText("Actualizar Producto");
        lblActualizarCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                lblActualizarCajaMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lblActualizarCajaMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                lblActualizarCajaMouseExited(evt);
            }
        });

        javax.swing.GroupLayout contActualizarCajaLayout = new javax.swing.GroupLayout(contActualizarCaja);
        contActualizarCaja.setLayout(contActualizarCajaLayout);
        contActualizarCajaLayout.setHorizontalGroup(
            contActualizarCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblActualizarCaja, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE)
        );
        contActualizarCajaLayout.setVerticalGroup(
            contActualizarCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblActualizarCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 70, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(contAgregarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(txtVendedorCaja, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(txtCodigoDescuentoCaja)
                    .addComponent(contAplicarDescuentoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel13Layout.createSequentialGroup()
                        .addComponent(txtFechaCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(comboMetodoPagoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel13Layout.createSequentialGroup()
                        .addComponent(txtCodigoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE)
                        .addGap(33, 33, 33)
                        .addComponent(txtCantidadCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel13Layout.createSequentialGroup()
                        .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(contProcesarPagoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(contCancelarPagoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(contEliminarProductoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(contActualizarCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(txtVendedorCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(comboMetodoPagoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtFechaCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtCantidadCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtCodigoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(contAgregarProductoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(7, 7, 7)
                .addComponent(txtCodigoDescuentoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(contAplicarDescuentoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(contEliminarProductoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(contCancelarPagoCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(contActualizarCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(contProcesarPagoCaja, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        jPanel14.setBackground(new java.awt.Color(255, 255, 255));
        jPanel14.setPreferredSize(new java.awt.Dimension(645, 658));

        txtSubtotalCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtSubtotalCaja.setForeground(new java.awt.Color(0, 0, 0));
        txtSubtotalCaja.setText("Subtotal");
        txtSubtotalCaja.setEnabled(false);

        jLabel7.setBackground(new java.awt.Color(73, 127, 131));
        jLabel7.setFont(new java.awt.Font("Ubuntu", 1, 22)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(73, 127, 131));
        jLabel7.setText("Subtotal");
        jLabel7.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);

        txtDescuentoTotalCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtDescuentoTotalCaja.setForeground(new java.awt.Color(0, 0, 0));
        txtDescuentoTotalCaja.setText("Descuento");
        txtDescuentoTotalCaja.setEnabled(false);

        jLabel8.setBackground(new java.awt.Color(73, 127, 131));
        jLabel8.setFont(new java.awt.Font("Ubuntu", 1, 22)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(73, 127, 131));
        jLabel8.setText("Descuento");
        jLabel8.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);

        txtTotalCaja.setFont(new java.awt.Font("Ubuntu", 0, 16)); // NOI18N
        txtTotalCaja.setForeground(new java.awt.Color(0, 0, 0));
        txtTotalCaja.setText("Total");
        txtTotalCaja.setEnabled(false);

        jLabel9.setBackground(new java.awt.Color(73, 127, 131));
        jLabel9.setFont(new java.awt.Font("Ubuntu", 1, 22)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(73, 127, 131));
        jLabel9.setText("Total");
        jLabel9.setVerticalAlignment(javax.swing.SwingConstants.BOTTOM);

        tablaCaja.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        tablaCaja.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tablaCajaMouseClicked(evt);
            }
        });
        jScrollPane6.setViewportView(tablaCaja);

        javax.swing.GroupLayout jPanel14Layout = new javax.swing.GroupLayout(jPanel14);
        jPanel14.setLayout(jPanel14Layout);
        jPanel14Layout.setHorizontalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtSubtotalCaja)
                            .addComponent(jLabel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(32, 32, 32)
                        .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtDescuentoTotalCaja)
                            .addComponent(jLabel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(32, 32, 32)
                        .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtTotalCaja)
                            .addComponent(jLabel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jScrollPane6)))
                .addContainerGap())
        );
        jPanel14Layout.setVerticalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 533, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtSubtotalCaja))
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtDescuentoTotalCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel9)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtTotalCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(11, 11, 11))
        );

        panelCaja.setLayer(jPanel12, javax.swing.JLayeredPane.DEFAULT_LAYER);
        panelCaja.setLayer(jPanel13, javax.swing.JLayeredPane.DEFAULT_LAYER);
        panelCaja.setLayer(jPanel14, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout panelCajaLayout = new javax.swing.GroupLayout(panelCaja);
        panelCaja.setLayout(panelCajaLayout);
        panelCajaLayout.setHorizontalGroup(
            panelCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCajaLayout.createSequentialGroup()
                .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, 1284, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(panelCajaLayout.createSequentialGroup()
                .addComponent(jPanel13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel14, javax.swing.GroupLayout.DEFAULT_SIZE, 639, Short.MAX_VALUE))
        );
        panelCajaLayout.setVerticalGroup(
            panelCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCajaLayout.createSequentialGroup()
                .addComponent(jPanel12, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(panelCajaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel14, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        javax.swing.GroupLayout panelVentanaPanelesLayout = new javax.swing.GroupLayout(panelVentanaPaneles);
        panelVentanaPaneles.setLayout(panelVentanaPanelesLayout);
        panelVentanaPanelesLayout.setHorizontalGroup(
            panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1290, Short.MAX_VALUE)
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelMenuPrincipal, javax.swing.GroupLayout.Alignment.TRAILING))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelProductos))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelDescuentos, javax.swing.GroupLayout.Alignment.TRAILING))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelCaja, javax.swing.GroupLayout.Alignment.TRAILING))
        );
        panelVentanaPanelesLayout.setVerticalGroup(
            panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 718, Short.MAX_VALUE)
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelMenuPrincipal))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelProductos))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelDescuentos))
            .addGroup(panelVentanaPanelesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelCaja, javax.swing.GroupLayout.Alignment.TRAILING))
        );

        javax.swing.GroupLayout panelVentanaLayout = new javax.swing.GroupLayout(panelVentana);
        panelVentana.setLayout(panelVentanaLayout);
        panelVentanaLayout.setHorizontalGroup(
            panelVentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelVentanaLayout.createSequentialGroup()
                .addComponent(panelBarraLateral, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 1290, Short.MAX_VALUE))
            .addGroup(panelVentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelVentanaPaneles, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelVentanaLayout.setVerticalGroup(
            panelVentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelVentanaLayout.createSequentialGroup()
                .addGap(0, 0, 0)
                .addComponent(panelBarraLateral, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(panelVentanaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(panelVentanaPaneles, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout panelFondoLayout = new javax.swing.GroupLayout(panelFondo);
        panelFondo.setLayout(panelFondoLayout);
        panelFondoLayout.setHorizontalGroup(
            panelFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelVentana, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        panelFondoLayout.setVerticalGroup(
            panelFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelVentana, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        getContentPane().add(panelFondo, java.awt.BorderLayout.CENTER);

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    // <editor-fold defaultstate="collapsed" desc="Botones de la barra de título">
    
    // Animaciones del botón de cerrar de la barra de título
    private void lblCerrarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarMouseEntered
        contCerrar.setBackground(new Color(255, 40, 86));
    }//GEN-LAST:event_lblCerrarMouseEntered

    private void lblCerrarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarMouseExited
        contCerrar.setBackground(new Color(87,154,233));
    }//GEN-LAST:event_lblCerrarMouseExited
    
   // Animaciones del botón de maximizar de la barra de título 
    private void lblMaximizarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblMaximizarMouseEntered
        contMaximizar.setBackground(new Color(115, 169, 233));
    }//GEN-LAST:event_lblMaximizarMouseEntered

    private void lblMaximizarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblMaximizarMouseExited
        contMaximizar.setBackground(new Color(87,154,233));
    }//GEN-LAST:event_lblMaximizarMouseExited

    // Animaciónes del botón de ocultar de la barra de título
    private void lblOcultarMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblOcultarMouseEntered
        contOcultar.setBackground(new Color(115, 169, 233));
    }//GEN-LAST:event_lblOcultarMouseEntered

    private void lblOcultarMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblOcultarMouseExited
        contOcultar.setBackground(new Color(87,154,233));
    }//GEN-LAST:event_lblOcultarMouseExited

    // Eventos de los botones de la barra de título
    private void lblCerrarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarMouseClicked
        mbm.cerrarVentana();
    }//GEN-LAST:event_lblCerrarMouseClicked

    private void lblMaximizarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblMaximizarMouseClicked
        mbm.maximizarVentana(this);
    }//GEN-LAST:event_lblMaximizarMouseClicked

    private void lblOcultarMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblOcultarMouseClicked
        mbm.ocultarVentana(this);
    }//GEN-LAST:event_lblOcultarMouseClicked
    
    // Eventos para poder arrastrar la ventana usando la barra de título
    private void barraTituloMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_barraTituloMousePressed
        mouseX =  evt.getX();
        mouseY = evt.getY();
    }//GEN-LAST:event_barraTituloMousePressed

    private void barraTituloMouseDragged(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_barraTituloMouseDragged
        mbm.arrastrarVentana(this);
        
        int x = evt.getXOnScreen();
        int y = evt.getYOnScreen();
        this.setLocation(x - mouseX, y - mouseY);
    }//GEN-LAST:event_barraTituloMouseDragged

    // Evento para maximizar la ventana haciendo doble click
    private void barraTituloMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_barraTituloMouseClicked
        mbm.maximizarDobleClick(this);
    }//GEN-LAST:event_barraTituloMouseClicked
    // </editor-fold> 
    
    // <editor-fold defaultstate="collapsed" desc="Barra lateral">
    
    // Animaciones y eventos del botón de configuración de la barra lateral
    private void lblConfiguracionMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblConfiguracionMouseExited
        contConfiguracion.setBackground(new Color(56,33,165));
    }//GEN-LAST:event_lblConfiguracionMouseExited

    private void lblConfiguracionMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblConfiguracionMouseEntered
        contConfiguracion.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_lblConfiguracionMouseEntered
    
    private void lblConfiguracionMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblConfiguracionMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_lblConfiguracionMouseClicked

    // Animaciones y eventos del botón para alternar la visibilidad de la barra lateral
    private void lblBotonBarraLateralMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblBotonBarraLateralMouseExited
        contBotonBarraLateral.setBackground(new Color(56,33,165));
    }//GEN-LAST:event_lblBotonBarraLateralMouseExited

    private void lblBotonBarraLateralMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblBotonBarraLateralMouseEntered
        contBotonBarraLateral.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_lblBotonBarraLateralMouseEntered
    
    private void lblBotonBarraLateralMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblBotonBarraLateralMouseClicked
        mbl.alternarBarraLateral(panelBarraLateral, lblBotonBarraLateral);
    }//GEN-LAST:event_lblBotonBarraLateralMouseClicked
    // </editor-fold>
    
    // Animaciones y eventos de la opción 'Descuentos' de la barra lateral.
    private void botonDescuentosMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonDescuentosMouseExited
        botonDescuentos.setBackground(new Color(54,33,150));
    }//GEN-LAST:event_botonDescuentosMouseExited

    private void botonDescuentosMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonDescuentosMouseEntered
        botonDescuentos.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_botonDescuentosMouseEntered

    private void botonDescuentosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonDescuentosMouseClicked
        mbl.cambiarPanel(panelVentanaPaneles, panelDescuentos);
        configurarVentanaDescuentos();
        mbl.alternarBarraLateral(panelBarraLateral, lblBotonBarraLateral);
    }//GEN-LAST:event_botonDescuentosMouseClicked

    // Animaciones y eventos de la opción 'Productos' de la barra lateral.
    private void botonProductosMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonProductosMouseExited
        botonProductos.setBackground(new Color(54,33,150));
    }//GEN-LAST:event_botonProductosMouseExited

    private void botonProductosMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonProductosMouseEntered
        botonProductos.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_botonProductosMouseEntered

    private void botonProductosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonProductosMouseClicked
        mbl.cambiarPanel(panelVentanaPaneles, panelProductos);
        mbl.alternarBarraLateral(panelBarraLateral, lblBotonBarraLateral);
        configurarVentanaProductos();
    }//GEN-LAST:event_botonProductosMouseClicked
    // </editor-fold>
    
    // <editor-fold defaultstate="collapsed" desc="Animaciones y eventos del botón de cerrar sesión">
    private void lblCerrarSesionMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarSesionMouseEntered
        contCerrarSesion.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_lblCerrarSesionMouseEntered

    private void lblCerrarSesionMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarSesionMouseExited
        contCerrarSesion.setBackground(new Color(56,33,165));
    }//GEN-LAST:event_lblCerrarSesionMouseExited

    private void lblCerrarSesionMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCerrarSesionMouseClicked
        LoginForm loginForm = new LoginForm(cn);
        loginForm.setVisible(true);
        loginForm.setLocationRelativeTo(null);
        
        this.dispose();
    }//GEN-LAST:event_lblCerrarSesionMouseClicked
    // </editor-fold>
    
    /**
     * Cierra la barra lateral cuando se hace click en cualquier panel que no sea el de la barra lateral.
     * 
     * @param evt 
     */
    private void formMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_formMousePressed
        if (mbl.getBarraLateralAbierta() && evt.getComponent() != panelBarraLateral) {
            mbl.alternarBarraLateral(panelBarraLateral, lblBotonBarraLateral);
        }
    }//GEN-LAST:event_formMousePressed
    
    private void txtBuscarProductosFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtBuscarProductosFocusGained
        mtf.establecerTextoPredeterminado(txtBuscarProductos, "Buscar");
    }//GEN-LAST:event_txtBuscarProductosFocusGained
        
    // Metodos de busqueda en la base de datos
    private void comboBuscarPorProductosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboBuscarPorProductosActionPerformed
        cargarDatosTablaProductos(txtBuscarProductos.getText());
    }//GEN-LAST:event_comboBuscarPorProductosActionPerformed

    private void comboTipoBusquedaProductosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboTipoBusquedaProductosActionPerformed
        cargarDatosTablaProductos(txtBuscarProductos.getText());
    }//GEN-LAST:event_comboTipoBusquedaProductosActionPerformed

    private void comboOrdenarProductosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboOrdenarProductosActionPerformed
        cargarDatosTablaProductos(txtBuscarProductos.getText());
    }//GEN-LAST:event_comboOrdenarProductosActionPerformed

    private void txtBuscarProductosKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtBuscarProductosKeyReleased
        cargarDatosTablaProductos(txtBuscarProductos.getText());
    }//GEN-LAST:event_txtBuscarProductosKeyReleased

    private void btnEliminarProductosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEliminarProductosActionPerformed

    }//GEN-LAST:event_btnEliminarProductosActionPerformed
    
    /**
     * Carga los datos de productos en la tabla de visualización según los criterios de búsqueda especificados.
     *
     * @param busqueda Cadena de búsqueda para filtrar los productos a mostrar.
     */
    private void cargarDatosTablaProductos(String busqueda) {
        String[] nombresColumnasBD = {"nombre_producto", "id_producto", "precio_unitario", "cantidad_disponible", "codigo_barras", "estado_producto", "fecha_registro", "categoria", "descripcion_producto"};
        
        DefaultTableModel modelo = new TablaNoEditable();
        modelo.addColumn("ID");
        modelo.addColumn("Nombre del Producto");
        modelo.addColumn("Precio Unitario");
        modelo.addColumn("Cantidad Disponible");
        modelo.addColumn("Código de Barras");
        modelo.addColumn("Estado del Producto");
        modelo.addColumn("Fecha de Registro");
        modelo.addColumn("Categoría");
        modelo.addColumn("Descripción del producto");
        
        tablaProductos.setModel(modelo);
        tablaProductos.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);
        
        String filtro = mb.getBuscarPor(comboBuscarPorProductos, nombresColumnasBD);
        String busquedaCompleta = mb.getFormatoBusqueda(busqueda, comboTipoBusquedaProductos);
        String orden = mb.getOrdenarPor(comboOrdenarProductos);
        
        String consultasql = mb.obtenerConsulta("productos", filtro, busquedaCompleta, orden);
        System.out.println(consultasql);
        
        String data[] = new String[9];
        
        Statement st;
        
        try
        {
            st = cn.createStatement();
            ResultSet rs = st.executeQuery(consultasql);
            
            while (rs.next())
            {
                data[0] = rs.getString(1);
                data[1] = rs.getString(2);
                data[2] = rs.getString(3);
                data[3] = rs.getString(4);
                data[4] = rs.getString(5);
                data[5] = rs.getString(6);
                data[6] = rs.getString(7);
                data[7] = rs.getString(8);
                data[8] = rs.getString(9);
                modelo.addRow(data);
            }
        }
        catch (SQLException e)
        {
            JOptionPane.showMessageDialog(null, "Error al cargar los datos.",  "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, e,  "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error al mostrar los datos: " + e);
        }
    }
    
    /**
     * Configura la ventana de productos, restableciendo los campos y cargando los datos en la tabla.
     */
    public void configurarVentanaProductos() {
        cargarDatosTablaProductos("");
    }
    // </editor-fold>
   
    /**
     * Carga los datos de descuentos desde la base de datos y los muestra en la tabla de la interfaz.
     * 
     * @param busqueda El término de búsqueda opcional para filtrar los resultados.
     */
    private void cargarDatosTablaDescuentos(String busqueda) {
        DefaultTableModel modelo = new TablaNoEditable();
        modelo.addColumn("ID Descuento");
        modelo.addColumn("Nombre de Descuento");
        modelo.addColumn("Código de Descuento");
        modelo.addColumn("Porcentaje de Descuento");
        modelo.addColumn("Valor de Descuento");
        modelo.addColumn("Fecha de Inicio");
        modelo.addColumn("Fecha de Fin");
        modelo.addColumn("Activo");

        tablaDescuentos.setModel(modelo);
        tablaDescuentos.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);

        String consultasql = mb.obtenerConsulta("descuentos", "nombre_descuento", "LIKE UPPER('%" + busqueda + "%')", "ASC;");
        System.out.println(consultasql);

        String data[] = new String[8];

        Statement st;

        try {
            st = cn.createStatement();
            ResultSet rs = st.executeQuery(consultasql);

            while (rs.next()) {
                data[0] = rs.getString("id_descuento");
                data[1] = rs.getString("nombre_descuento");
                data[2] = rs.getString("codigo_descuento");
                data[3] = rs.getString("porcentaje_descuento");
                data[4] = rs.getString("valor_descuento");
                data[5] = rs.getString("fecha_inicio");
                data[6] = rs.getString("fecha_fin");
                data[7] = rs.getString("activo");
                modelo.addRow(data);
            }
        } catch (SQLException e) {
            JOptionPane.showMessageDialog(null, "Error al cargar los datos.",  "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, e,  "Error", JOptionPane.ERROR_MESSAGE);
            System.out.println("Error al mostrar los datos: " + e);
        }
    }
    
    private void limpiarCamposDescuentos() {     
        mtf.reiniciarTexto(txtBuscarDescuentos, "Buscar");
    }

    /**
    * Configura la ventana de descuentos restableciendo los campos y cargando los datos en la tabla.
    */
    private void configurarVentanaDescuentos() {
        limpiarCamposDescuentos();
        cargarDatosTablaDescuentos("");
    }
    // </editor-fold>
    
    // <editor-fold defaultstate="collapsed" desc="Métodos de la pestaña de Caja">
    
    // Animaciones para los botones de la ventana
    private void lblAgregarProductoCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAgregarProductoCajaMouseEntered
        if (!contAgregarProductoCaja.isEnabled() || !lblAgregarProductoCaja.isEnabled()) {return;}
        contAgregarProductoCaja.setBackground(mbtn.getDefaultButtonHover());
    }//GEN-LAST:event_lblAgregarProductoCajaMouseEntered

    private void lblAgregarProductoCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAgregarProductoCajaMouseExited
        if (!contAgregarProductoCaja.isEnabled() || !lblAgregarProductoCaja.isEnabled()) {return;}
        contAgregarProductoCaja.setBackground(mbtn.getDefaultButton());
    }//GEN-LAST:event_lblAgregarProductoCajaMouseExited

    private void lblAplicarDescuentoCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAplicarDescuentoCajaMouseEntered
        if (!contAplicarDescuentoCaja.isEnabled() || !lblAplicarDescuentoCaja.isEnabled()) {return;}
        contAplicarDescuentoCaja.setBackground(mbtn.getDefaultButtonHover());
    }//GEN-LAST:event_lblAplicarDescuentoCajaMouseEntered

    private void lblAplicarDescuentoCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAplicarDescuentoCajaMouseExited
        if (!contAplicarDescuentoCaja.isEnabled() || !lblAplicarDescuentoCaja.isEnabled()) {return;}
        contAplicarDescuentoCaja.setBackground(mbtn.getDefaultButton());
    }//GEN-LAST:event_lblAplicarDescuentoCajaMouseExited

    private void lblCancelarPagoCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCancelarPagoCajaMouseEntered
        if (!contCancelarPagoCaja.isEnabled() || !lblCancelarPagoCaja.isEnabled()) {return;}
        contCancelarPagoCaja.setBackground(mbtn.getDefaultButtonHover());
    }//GEN-LAST:event_lblCancelarPagoCajaMouseEntered

    private void lblCancelarPagoCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCancelarPagoCajaMouseExited
        if (!contCancelarPagoCaja.isEnabled() || !lblCancelarPagoCaja.isEnabled()) {return;}
        contCancelarPagoCaja.setBackground(mbtn.getDefaultButton());
    }//GEN-LAST:event_lblCancelarPagoCajaMouseExited

    private void lblEliminarProductoCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblEliminarProductoCajaMouseEntered
        if (!contEliminarProductoCaja.isEnabled() || !lblEliminarProductoCaja.isEnabled()) {return;}
        contEliminarProductoCaja.setBackground(mbtn.getDefaultButtonWarningHover());
    }//GEN-LAST:event_lblEliminarProductoCajaMouseEntered

    private void lblEliminarProductoCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblEliminarProductoCajaMouseExited
        if (!contEliminarProductoCaja.isEnabled() || !lblEliminarProductoCaja.isEnabled()) {return;}
        contEliminarProductoCaja.setBackground(mbtn.getDefaultButtonWarning());
    }//GEN-LAST:event_lblEliminarProductoCajaMouseExited

    private void lblProcesarPagoCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblProcesarPagoCajaMouseEntered
        if (!contProcesarPagoCaja.isEnabled() || !lblProcesarPagoCaja.isEnabled()) {return;}
        contProcesarPagoCaja.setBackground(mbtn.getDefaultButtonHover());
    }//GEN-LAST:event_lblProcesarPagoCajaMouseEntered

    private void lblProcesarPagoCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblProcesarPagoCajaMouseExited
        if (!contProcesarPagoCaja.isEnabled() || !lblProcesarPagoCaja.isEnabled()) {return;}
        contProcesarPagoCaja.setBackground(mbtn.getDefaultButton());
    }//GEN-LAST:event_lblProcesarPagoCajaMouseExited

    // FocusListeners para establecer un texto predeterminado en los campos de la ventana
    private void txtCantidadCajaFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtCantidadCajaFocusGained
        mtf.establecerTextoPredeterminado(txtCantidadCaja, "Cantidad");
    }//GEN-LAST:event_txtCantidadCajaFocusGained

    private void txtCodigoDescuentoCajaFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtCodigoDescuentoCajaFocusGained
        mtf.establecerTextoPredeterminado(txtCodigoDescuentoCaja, "Código de Descuento");
    }//GEN-LAST:event_txtCodigoDescuentoCajaFocusGained

    // EventListeners de los botones de la ventana
    
    private void lblAgregarProductoCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAgregarProductoCajaMouseClicked
        String producto = txtCodigoCaja.getText();
        String cantidadStr = txtCantidadCaja.getText();
        int cantidad = 0;
        
        try {
            cantidad = Integer.parseInt(cantidadStr);
            this.validarProductoCaja(producto, cantidad);
        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(null, "La cantidad debe ser un número válido.", "Error", JOptionPane.ERROR_MESSAGE);
            return;
        }
        
        
    }//GEN-LAST:event_lblAgregarProductoCajaMouseClicked

    private void lblAplicarDescuentoCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblAplicarDescuentoCajaMouseClicked
        String codigoDescuento = txtCodigoDescuentoCaja.getText();
        float valorDescuento;
        
        if (!validarDescuentoCaja(codigoDescuento)) {
            return;
        }
        
        valorDescuento = obtenerDescuentoCaja(codigoDescuento);
        txtDescuentoTotalCaja.setText(String.valueOf(valorDescuento));
        JOptionPane.showMessageDialog(null, "Descuento aplicado correctamente.", "Descuento", JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_lblAplicarDescuentoCajaMouseClicked

    private void lblProcesarPagoCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblProcesarPagoCajaMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_lblProcesarPagoCajaMouseClicked

    private void lblCancelarPagoCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblCancelarPagoCajaMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_lblCancelarPagoCajaMouseClicked

    private void lblEliminarProductoCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblEliminarProductoCajaMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_lblEliminarProductoCajaMouseClicked

    private void txtCodigoCajaFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtCodigoCajaFocusGained
        mtf.establecerTextoPredeterminado(txtCodigoCaja, "Código del Producto");
    }//GEN-LAST:event_txtCodigoCajaFocusGained

    private void txtCodigoCajaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCodigoCajaKeyTyped
        me.validarEntero(evt);
    }//GEN-LAST:event_txtCodigoCajaKeyTyped

    private void txtCantidadCajaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCantidadCajaKeyTyped
        me.validarEntero(evt);
    }//GEN-LAST:event_txtCantidadCajaKeyTyped

    private void tablaCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tablaCajaMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_tablaCajaMouseClicked

    private void lblActualizarCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblActualizarCajaMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_lblActualizarCajaMouseClicked

    private void lblActualizarCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblActualizarCajaMouseEntered
        // TODO add your handling code here:
    }//GEN-LAST:event_lblActualizarCajaMouseEntered

    private void lblActualizarCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lblActualizarCajaMouseExited
        // TODO add your handling code here:
    }//GEN-LAST:event_lblActualizarCajaMouseExited

    private void txtCodigoDescuentoCajaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtCodigoDescuentoCajaKeyTyped
        me.convertirMayuscula(evt, txtCodigoDescuentoCaja);
    }//GEN-LAST:event_txtCodigoDescuentoCajaKeyTyped

    // Maneja el evento de buscar en la tabla de descuentos por nombre
    private void txtBuscarDescuentosKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtBuscarDescuentosKeyReleased
        cargarDatosTablaDescuentos(txtBuscarDescuentos.getText());
    }//GEN-LAST:event_txtBuscarDescuentosKeyReleased

    // <editor-fold defaultstate="collapsed" desc="Botones de la barra lateral">
    
// Animaciones y eventos de la opción 'Caja' de la barra lateral.
    private void botonCajaMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonCajaMouseExited
        botonCaja.setBackground(new Color(54,33,150));
    }//GEN-LAST:event_botonCajaMouseExited

    private void botonCajaMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonCajaMouseEntered
        botonCaja.setBackground(new Color(75, 50, 188));
    }//GEN-LAST:event_botonCajaMouseEntered

    private void botonCajaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_botonCajaMouseClicked
        mbl.cambiarPanel(panelVentanaPaneles, panelCaja);
        configurarVentanaCaja();
        mbl.alternarBarraLateral(panelBarraLateral, lblBotonBarraLateral);
    }//GEN-LAST:event_botonCajaMouseClicked

    private void txtBuscarDescuentosFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtBuscarDescuentosFocusGained
        mtf.establecerTextoPredeterminado(txtBuscarDescuentos, "Buscar");
    }//GEN-LAST:event_txtBuscarDescuentosFocusGained
    
    // Métodos de la ventana de Caja
    
    public void cargarModeloTablaCaja() {
        DefaultTableModel modelo = new TablaNoEditable();
        modelo.addColumn("Nombre del Producto");
        modelo.addColumn("Código de Barras");
        modelo.addColumn("Precio Unitario");
        modelo.addColumn("Cantidad");
        modelo.addColumn("Subtotal del Producto");
        tablaCaja.setModel(modelo);
    }
    
    public void limpiarCamposCaja() {
        mbtn.deshabilitarBoton(contEliminarProductoCaja, lblEliminarProductoCaja, mbtn.getDefaultButtonWarningDisabled(), mbtn.getDefaultTextDisabled());
        mbtn.deshabilitarBotonDefault(contActualizarCaja, lblActualizarCaja);
        mbtn.habilitarBotonDefault(contProcesarPagoCaja, lblProcesarPagoCaja);
        
        mtf.reiniciarTexto(txtCodigoCaja, "Código del Producto");
        mtf.reiniciarTexto(txtCantidadCaja, "Cantidad");
        mtf.reiniciarTexto(txtCodigoDescuentoCaja, "Código de Descuento");
        
        mtf.reiniciarTexto(txtSubtotalCaja, "Subtotal");
        mtf.reiniciarTexto(txtDescuentoTotalCaja ,"Descuento");
        mtf.reiniciarTexto(txtTotalCaja, "Total");
        
        comboMetodoPagoCaja.setSelectedIndex(0);
        
        cargarNombreCajero();
        cargarFechaCaja();
    }
    
    public void configurarVentanaCaja() {
        cargarModeloTablaCaja();
        limpiarCamposCaja();
    }
    
    private boolean validarProductoCaja(String codigoProducto) {
        String consultasql = "SELECT cantidad_disponible FROM productos WHERE codigo_barras = ?";
        
        try {
            PreparedStatement ps = cn.prepareStatement(consultasql);
            
            ps.setString(1, codigoProducto);
            
            ResultSet rs = ps.executeQuery();
            
            if (rs.next()) {
                int cantidadDisponible = rs.getInt("cantidad_disponible");
                
                if (cantidadDisponible < 1) {
                    return true;
                } else {
                    String mensaje = "No hay suficientes unidades, solo quedan " + cantidadDisponible; 
                    JOptionPane.showMessageDialog(null, mensaje, "Error", JOptionPane.ERROR_MESSAGE);
                    return false;
                }
            } else {
                JOptionPane.showMessageDialog(null, "El producto no existe en la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
                return false;
            }
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Error al consultar la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, ex, "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }
    }
    
    private boolean validarProductoCaja(String codigoProducto, int cantidad) {
        String consultasql = "SELECT cantidad_disponible FROM productos WHERE codigo_barras = ?";
        
        try {
            PreparedStatement ps = cn.prepareStatement(consultasql);
            
            ps.setString(1, codigoProducto);
            
            ResultSet rs = ps.executeQuery();
            
            if (rs.next()) {
                int cantidadDisponible = rs.getInt("cantidad_disponible");
                
                if (cantidad <= cantidadDisponible) {
                    return true;
                } else {
                    String mensaje = "No hay suficientes unidades, solo quedan " + cantidadDisponible; 
                    JOptionPane.showMessageDialog(null, mensaje, "Error", JOptionPane.ERROR_MESSAGE);
                    return false;
                }
            } else {
                JOptionPane.showMessageDialog(null, "El producto no existe en la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
                return false;
            }
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Error al consultar la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, ex, "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }
    }
    
    private boolean validarDescuentoCaja(String codigoDescuento) {
        if (codigoDescuento == null) {
            return false;
        }

        String consultasql = "SELECT fecha_inicio, fecha_fin, activo FROM descuentos WHERE codigo_descuento = ?";

        try {
            PreparedStatement ps = cn.prepareStatement(consultasql);

            ps.setString(1, codigoDescuento);

            ResultSet rs = ps.executeQuery();

            if (!rs.next()) {
                JOptionPane.showMessageDialog(null, "El código de descuento no existe en la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
                return false;
            }

            String fechaInicioStr = rs.getString("fecha_inicio");
            String fechaFinStr = rs.getString("fecha_fin");
            String activo = rs.getString("activo");

            System.out.println(fechaInicioStr + " " + fechaFinStr + " " + activo);

            java.util.Date fechaActual = new java.util.Date();

            SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd");
            java.util.Date fechaInicio = dateFormat.parse(fechaInicioStr);
            java.util.Date fechaFin = dateFormat.parse(fechaFinStr);

            System.out.println(fechaInicio + " " + fechaFin + " " + activo);

            if (!activo.equals("SI") || fechaActual.before(fechaInicio) || fechaActual.after(fechaFin)) {
                String mensaje = !activo.equals("SI") ? "El descuento está fuera del período válido." : "El descuento no está activo.";
                JOptionPane.showMessageDialog(null, mensaje, "Descuento no válido", JOptionPane.WARNING_MESSAGE);
                return false;
            }

            System.out.println("Descuento aplicado correctamente");
            return true;
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Error al consultar la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, ex, "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        } catch (ParseException ex) {
            JOptionPane.showMessageDialog(null, "Error al parsear las fechas.", "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, ex, "Error", JOptionPane.ERROR_MESSAGE);
            return false;
        }
    }
    
    private float obtenerDescuentoCaja(String codigoDescuento) {
        if (codigoDescuento == null) {
            return 0;
        }

        String consultasql = "SELECT porcentaje_descuento, valor_descuento FROM descuentos WHERE codigo_descuento = ?";

        try {
            PreparedStatement ps = cn.prepareStatement(consultasql);

            ps.setString(1, codigoDescuento);

            ResultSet rs = ps.executeQuery();

            if (!rs.next()) {
                return 0;
            }

            float porcentajeDescuento = rs.getFloat("porcentaje_descuento");
            int valorDescuento = rs.getInt("valor_descuento");
            return porcentajeDescuento != 0.0 ? porcentajeDescuento : (float) valorDescuento;
            
        } catch (SQLException ex) {
            JOptionPane.showMessageDialog(null, "Error al consultar la base de datos.", "Error", JOptionPane.ERROR_MESSAGE);
            JOptionPane.showMessageDialog(null, ex, "Error", JOptionPane.ERROR_MESSAGE);
            return 0;
        }
    }
    
    private void calcularDescuentoCaja() {
        
    }
    
    private void actualizarTablaSubtotalCaja() {
        
    }
    
    private void calcularSubtotalCaja() {
        
    }
    
    private void calcularTotalCaja() {
        
    }
    
    private void cargarNombreCajero() {
        txtVendedorCaja.setText(this.usuario);
    }
    
    private void cargarFechaCaja() {
        java.util.Date fecha = new java.util.Date();
        
        SimpleDateFormat sdf = new SimpleDateFormat("dd MMMM yyyy");
        String fechaFormateada = sdf.format(fecha);
        
        txtFechaCaja.setText(fechaFormateada);
    }
// </editor-fold>
    
    // <editor-fold defaultstate="collapsed" desc="Declaracion de variables de los componentes">
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel barraLateral;
    private javax.swing.JPanel barraTitulo;
    private javax.swing.JPanel botonCaja;
    private javax.swing.JPanel botonDescuentos;
    private javax.swing.JPanel botonProductos;
    private javax.swing.JPanel botonesBarraTitulo;
    private javax.swing.JMenuItem btnEliminarProductos;
    private javax.swing.JComboBox<String> comboBuscarPorProductos;
    private javax.swing.JComboBox<String> comboMetodoPagoCaja;
    private javax.swing.JComboBox<String> comboOrdenarProductos;
    private javax.swing.JComboBox<String> comboTipoBusquedaProductos;
    private javax.swing.JPanel contActualizarCaja;
    private javax.swing.JPanel contAgregarProductoCaja;
    private javax.swing.JPanel contAplicarDescuentoCaja;
    private javax.swing.JPanel contBarraLateral;
    private javax.swing.JPanel contBotonBarraLateral;
    private javax.swing.JPanel contCancelarPagoCaja;
    private javax.swing.JPanel contCerrar;
    private javax.swing.JPanel contCerrarSesion;
    private javax.swing.JPanel contConfiguracion;
    private javax.swing.JPanel contEliminarProductoCaja;
    private javax.swing.JPanel contMaximizar;
    private javax.swing.JPanel contOcultar;
    private javax.swing.JPanel contProcesarPagoCaja;
    private javax.swing.JLabel iconoCaja;
    private javax.swing.JLabel iconoDescuentos;
    private javax.swing.JLabel iconoProductos;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel14;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JLabel labelCaja;
    private javax.swing.JLabel labelDescuentos;
    private javax.swing.JLabel labelProductos;
    private javax.swing.JLabel lblActualizarCaja;
    private javax.swing.JLabel lblAgregarProductoCaja;
    private javax.swing.JLabel lblAplicarDescuentoCaja;
    private javax.swing.JLabel lblBotonBarraLateral;
    private javax.swing.JLabel lblCancelarPagoCaja;
    private javax.swing.JLabel lblCerrar;
    private javax.swing.JLabel lblCerrarSesion;
    private javax.swing.JLabel lblConfiguracion;
    private javax.swing.JLabel lblEliminarProductoCaja;
    private javax.swing.JLabel lblMaximizar;
    private javax.swing.JLabel lblOcultar;
    private javax.swing.JLabel lblProcesarPagoCaja;
    private javax.swing.JPopupMenu menuClickDerechoProductos;
    private javax.swing.JLayeredPane panelBarraLateral;
    private javax.swing.JLayeredPane panelCaja;
    private javax.swing.JLayeredPane panelDescuentos;
    private javax.swing.JPanel panelFondo;
    private javax.swing.JLayeredPane panelMenuPrincipal;
    private javax.swing.JLayeredPane panelProductos;
    private javax.swing.JPanel panelVentana;
    private javax.swing.JPanel panelVentanaPaneles;
    private javax.swing.JTable tablaCaja;
    private javax.swing.JTable tablaDescuentos;
    private javax.swing.JTable tablaProductos;
    private javax.swing.JTextField txtBuscarDescuentos;
    private javax.swing.JTextField txtBuscarProductos;
    private javax.swing.JTextField txtCantidadCaja;
    private javax.swing.JTextField txtCodigoCaja;
    private javax.swing.JTextField txtCodigoDescuentoCaja;
    private javax.swing.JTextField txtDescuentoTotalCaja;
    private javax.swing.JTextField txtFechaCaja;
    private javax.swing.JTextField txtSubtotalCaja;
    private javax.swing.JLabel txtTitulo;
    private javax.swing.JTextField txtTotalCaja;
    private javax.swing.JTextField txtVendedorCaja;
    // End of variables declaration//GEN-END:variables
    // </editor-fold>
}
